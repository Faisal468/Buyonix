# Forgot Password Feature - Visual Guide

## Screen 1: Email Entry

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         [X]                    â•‘
â•‘  BUYONIX                       â•‘
â•‘  Reset Password                â•‘
â•‘  Enter your email to receive   â•‘
â•‘  a verification code           â•‘
â•‘                                â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    â•‘ (Progress: Step 1/3)
â•‘                                â•‘
â•‘  Email Address                 â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ user@example.com        â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ Send Verification Code  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚    Back to Login        â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Actions:
1. Enter registered email
2. Click "Send Verification Code"
3. Check email for OTP
```

## Screen 2: OTP Verification

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         [X]                    â•‘
â•‘  BUYONIX                       â•‘
â•‘  Verify Email                  â•‘
â•‘  Enter the code sent to        â•‘
â•‘  your email                    â•‘
â•‘                                â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    â•‘ (Progress: Step 2/3)
â•‘                                â•‘
â•‘  Verification Code             â•‘
â•‘  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”â•‘
â•‘  â”‚1 â”‚ â”‚2 â”‚ â”‚3 â”‚ â”‚4 â”‚ â”‚5 â”‚ â”‚6 â”‚â”‚
â•‘  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚     Verify OTP          â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•‘  Didn't receive OTP?           â•‘
â•‘  [Resend OTP]                  â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚    Back                 â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Actions:
1. Receive OTP email
2. Enter 6-digit OTP
3. Click "Verify OTP" or "Resend OTP"
```

## Screen 3: Password Reset

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         [X]                    â•‘
â•‘  BUYONIX                       â•‘
â•‘  Set New Password              â•‘
â•‘  Create a new password for     â•‘
â•‘  your account                  â•‘
â•‘                                â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    â•‘ (Progress: Step 3/3)
â•‘                                â•‘
â•‘  New Password                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢  [ðŸ‘]      â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘  Password must be at least     â•‘
â•‘  6 characters                  â•‘
â•‘                                â•‘
â•‘  Confirm Password              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢  [ðŸ‘]      â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚   Reset Password        â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚    Back                 â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Actions:
1. Enter new password (min 6 characters)
2. Confirm password (must match)
3. Click "Reset Password"
4. Redirected to Login page
```

## Success Flow

```
          Start
            â†“
      [Email Screen]
            â†“
    Enter Email & Click Send
            â†“
   Check Email for OTP
            â†“
      [OTP Screen]
            â†“
     Enter OTP & Verify
            â†“
   [Password Reset Screen]
            â†“
  Enter New Password & Confirm
            â†“
    Click "Reset Password"
            â†“
   Password Updated âœ“
            â†“
  Redirect to Login
            â†“
        Login with
      New Password
```

## Error Scenarios

### Invalid Email
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Email not found error   â”‚
â”‚ No user found with      â”‚
â”‚ this email address      â”‚
â”‚                         â”‚
â”‚ [Try Again]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Invalid OTP
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OTP Verification Error  â”‚
â”‚ Invalid OTP.            â”‚
â”‚ Please try again.       â”‚
â”‚                         â”‚
â”‚ [Resend OTP]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Password Mismatch
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Password Mismatch Error â”‚
â”‚ Passwords do not match  â”‚
â”‚                         â”‚
â”‚ [Try Again]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### OTP Expired
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OTP Expired             â”‚
â”‚ OTP has expired.        â”‚
â”‚ Please request a new oneâ”‚
â”‚                         â”‚
â”‚ [Back to Email Screen]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Flow (Backend)

```
Frontend                          Backend
   â”‚                               â”‚
   â”œâ”€ POST /auth/send-reset-otp â”€â”€>
   â”‚  {email}                       â”‚
   â”‚                        Generate OTP
   â”‚                        Send Email
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ {success} â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚
   â”œâ”€ POST /auth/verify-reset-otp â”€>
   â”‚  {email, otp}                  â”‚
   â”‚                        Verify OTP
   â”‚                        Mark as verified
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ {success} â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚
   â”œâ”€ POST /auth/reset-password â”€â”€â”€>
   â”‚  {email, newPassword, ...}     â”‚
   â”‚                        Hash Password
   â”‚                        Update User
   â”‚                        Delete OTP
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ {success} â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚
   â””â”€ Redirect to /login
```

## Timeline

```
T=0s    : User clicks "Forgot Password"
T=1s    : User enters email and sends OTP
T=2-10s : Email delivered with OTP
T=11s   : User enters OTP
T=12s   : System verifies OTP
T=13s   : Password reset form displayed
T=14s   : User enters new password
T=15s   : Password updated successfully
T=16s   : Redirected to login page
T=17s   : User logs in with new password

Note: OTP is valid for 10 minutes (600 seconds)
```

## Features at a Glance

| Feature | Description |
|---------|-------------|
| **Email Verification** | User must own the email to reset password |
| **OTP** | 6-digit code valid for 10 minutes |
| **Password Requirements** | Minimum 6 characters |
| **Password Confirmation** | Must match for security |
| **Show/Hide Password** | Eye icon to toggle password visibility |
| **Resend OTP** | User can request new OTP |
| **Progress Bar** | Visual indicator of progress through 3 steps |
| **Error Handling** | Clear error messages for each scenario |
| **Back Navigation** | Users can go back to previous steps |
| **Auto-Delete OTP** | Used OTP automatically deleted after reset |

## Integration with Existing Login

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Login Page           â”‚
â”‚                          â”‚
â”‚ Email: [______]          â”‚
â”‚ Password: [______] [ðŸ‘]  â”‚
â”‚                          â”‚
â”‚ [Sign In]                â”‚
â”‚                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Forgot Password? â—„â”€â”€ NEW â”‚
â”‚                          â”‚
â”‚ [Google Sign In]         â”‚
â”‚                          â”‚
â”‚ Sign up [link]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

The "Forgot Password?" link points to `/forgot-password` route.
